<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Producto</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="producto.css">
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
  <header>
    <div id="profile-icon" class="icon">üë§</div>
    <a class="logo" href="/"><img src="EnmaManualidadesLogo.png" alt="Enma Manualidades"></a>
    
  </header>

  <main>
    <div id="product-details"></div>
    <button id="back-to-store">Volver a la tienda</button>
  </main>
  <footer>
    <iframe class="iframefootermap" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d410404.8590365639!2d-6.423374270709594!3d36.52304662488185!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x644bb9ec6abaa235%3A0x4fd198efdf8fa5dc!2sEnma%20Manualidades!5e0!3m2!1ses!2ses!4v1702396602259!5m2!1ses!2ses" width="230" height="180" style="border-radius:20px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    
    <div class="footer-container">
      <div class="footer-logo">
        <img width="100px" src="EnmaManualidadesLogoMini.png" alt="Enma Manualidades Logo">
      </div>
    </div>


    <nav class="footer-info" >
      <a href="#">Home</a> |
      <a href="#catalogoh2">Cat√°logo</a> |
      <a href="EnmaManualidades/HacerUnEncargo.html">Hacer un Encargo</a> |
      <a href="EnmaManualidades/AboutMe.html">About Enma</a>
  </nav>
  
    <div class="footer-info">
      
      <p>&copy; 2024 Enma Manualidades. Todos los derechos reservados.</p>
      <p>Direcci√≥n: [C√°diz, Spain]</p>
      <p>Tel√©fono: [+34 642 70 25 29]</p>
      <p>P√°gina Web creada Por: <a href="https://github.com/AgustinBeniteez" target="_blank">Agustin benitez</a></p>
    </div>
  </footer>
  <script>
    // Leer el ID del producto desde la URL
    const productId = window.location.hash.slice(9); // Obtener el ID del producto (#productoX)
    const productDetailsContainer = document.getElementById("product-details");
    const backToStoreButton = document.getElementById("back-to-store");

    let products = [];

    // Cargar productos desde el archivo JSON
    fetch("productos.json")
      .then((response) => {
        if (!response.ok) {
          throw new Error("Error al cargar el archivo JSON");
        }
        return response.json();
      })
      .then((data) => {
        products = data;
        renderProductDetails(productId);
      })
      .catch((error) => {
        console.error("Hubo un problema con la carga del JSON:", error);
      });

    // Renderizar los detalles del producto
    function renderProductDetails(id) {
      const product = products.find(p => p.id == id);
      if (product) {
        productDetailsContainer.innerHTML = `
          <div class="product-detail">
            <img class="img_producto" src="${product.imgUrl}" alt="${product.title}">
            <h2>${product.title}</h2>
            <p>${product.description}</p>
            <p><strong>Precio:</strong> ${product.price}‚Ç¨</p>
            <div class="tags">
              ${product.tags.map(tag => `<div class="tag">${tag}</div>`).join('')}
            </div>
            <button class="add-to-cart" data-index="${id}">
              <i class="fas fa-shopping-cart"></i> A√±adir al carrito
            </button>
          </div>
        `;
      }
    }

    // Volver a la tienda
    backToStoreButton.addEventListener('click', () => {
      window.location.href = "index.html";  // Redirigir a la p√°gina principal
    });

  </script>
</body>
</html>
